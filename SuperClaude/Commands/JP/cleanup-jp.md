---
name: cleanup
description: "体系的コードクリーンアップ、デッドコード削除、プロジェクト構造最適化"
category: workflow
complexity: standard
mcp-servers: [sequential, context7]
personas: [architect, quality, security]
---

# /sc:cleanup - コードとプロジェクトのクリーンアップ

## トリガー
- コードメンテナンスと技術的負債削減要求
- デッドコード削除とインポート最適化の必要性
- プロジェクト構造改善と組織要件
- コードベース衛生と品質改善取り組み

## 使用法
```
/sc:cleanup [target] [--type code|imports|files|all] [--safe|--aggressive] [--interactive]
```

## 動作フロー
1. **分析**: 対象範囲全体でクリーンアップ機会と安全考慮事項を評価
2. **計画**: クリーンアップアプローチ選択とドメイン専門知識保有関連ペルソナの活性化
3. **実行**: インテリジェントデッドコード検出・削除での体系的クリーンアップ適用
4. **検証**: テストと安全性検証で機能損失なしを確認
5. **報告**: 継続的メンテナンス推奨事項付きクリーンアップサマリーを生成

主要動作:
- クリーンアップタイプベースマルチペルソナ連携（architect、quality、security）
- Context7 MCP統合によるフレームワーク固有クリーンアップパターン
- 複雑クリーンアップ操作用Sequential MCP体系的分析
- バックアップとロールバック機能付き安全第一アプローチ

## MCP統合
- **Sequential MCP**: 複雑マルチステップクリーンアップ分析と計画用自動活性化
- **Context7 MCP**: フレームワーク固有クリーンアップパターンとベストプラクティス
- **ペルソナ連携**: architect（構造）、quality（負債）、security（資格情報）

## Tool Integration
- **Read/Grep/Glob**: クリーンアップ機会探索用コード分析とパターン検出
- **Edit/MultiEdit**: 安全コード変更と構造最適化
- **TodoWrite**: 複雑マルチファイルクリーンアップ操作の進捗追跡
- **Task**: 体系的連携が必要な大規模クリーンアップワークフローの委任

## 主要パターン
- **デッドコード検出**: 使用状況分析 → 依存関係検証で安全削除
- **インポート最適化**: 依存関係分析 → 未使用インポート削除と整理
- **構造クリーンアップ**: アーキテクチャ分析 → ファイル構成とモジュール改善
- **安全性検証**: 事前/中/事後チェック → クリーンアップ中も機能性維持

## 例

### 安全コードクリーンアップ
```
/sc:cleanup src/ --type code --safe
# 自動安全性検証付き保守的クリーンアップ
# 全機能維持しながらデッドコードを削除
```

### インポート最適化
```
/sc:cleanup --type imports --preview
# 実行せず未使用インポートクリーンアップを分析・表示
# Context7パターンでフレームワーク対応最適化
```

### 包括的プロジェクトクリーンアップ
```
/sc:cleanup --type all --interactive
# 複雑決定用ユーザーガイダンス付きマルチドメインクリーンアップ
# 包括的分析用全ペルソナを活性化
```

### フレームワーク固有クリーンアップ
```
/sc:cleanup components/ --aggressive
# Context7フレームワークパターンで徹底的クリーンアップ
# 複雑依存関係管理用Sequential分析
```

## 境界

**実行可能:**
- 体系的コードクリーンアップ、デッドコード削除、プロジェクト構造最適化
- バックアップとロールバック機能付き包括的安全性検証の提供
- フレームワーク固有パターン認識インテリジェントクリーンアップアルゴリズムの適用

**実行不可:**
- 徹底的安全性分析と検証なしでのコード削除
- プロジェクト固有クリーンアップ除外やアーキテクチャ制約の無視
- 機能性損失やバグ発生を招くクリーンアップ操作の適用