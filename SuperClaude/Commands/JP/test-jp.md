---
name: test
description: "カバレッジ分析と自動品質レポートを使用してテストを実行する"
category: utility
complexity: enhanced
mcp-servers: [playwright]
personas: [qa-specialist]
---

# /sc:test - テストと品質保証

## トリガー
- ユニット、統合、E2Eテストの実行要求
- カバレッジ分析と品質ゲート検証の必要性
- 継続的テストとウォッチモードのシナリオ
- テスト失敗分析とデバッグ要件

## 使用法
```
/sc:test [target] [--type unit|integration|e2e|all] [--coverage] [--watch] [--fix]
```

## 動作フロー
1. **発見**: ランナーパターンと規約を使用して利用可能なテストを分類
2. **設定**: 適切なテスト環境と実行パラメータを設定
3. **実行**: モニタリングとリアルタイム進捗追跡でテストを実行
4. **分析**: カバレッジレポートと失敗診断を生成
5. **報告**: 実用的な推奨事項と品質指標を提供

主な動作:
- テストフレームワークと設定の自動検出
- メトリクスを含む包括的なカバレッジレポート生成
- E2Eブラウザテスト用のPlaywright MCP自動有効化
- インテリジェントなテスト失敗分析の提供
- 開発用の継続ウォッチモードサポート

## MCP統合
- **Playwright MCP**: `--type e2e` ブラウザテスト時に自動有効化
- **QA Specialist Persona**: テスト分析と品質評価用に有効化
- **拡張機能**: クロスブラウザテスト、ビジュアル検証、パフォーマンスメトリクス

## ツール連携
- **Bash**: テストランナー実行と環境管理
- **Glob**: テスト発見とファイルパターンマッチング
- **Grep**: 結果解析と失敗分析
- **Write**: カバレッジレポートとテストサマリー

## 主要パターン
- **テスト発見**: パターンベース分類 → 適切なランナー選択
- **カバレッジ分析**: 実行メトリクス → 包括的カバレッジレポート
- **E2Eテスト**: ブラウザ自動化 → クロスプラットフォーム検証
- **ウォッチモード**: ファイル監視 → 継続テスト実行

## 例

### 基本的なテスト実行
```
/sc:test
# 標準設定ですべてのテストを発見・実行
# 合格/不合格サマリーと基本カバレッジを生成
```

### 対象絞り込みカバレッジ分析
```
/sc:test src/components --type unit --coverage
# 特定ディレクトリのユニットテストを詳細カバレッジメトリクス付きで実行
```

### ブラウザテスト
```
/sc:test --type e2e
# 包括的ブラウザテスト用にPlaywright MCPを有効化
# クロスブラウザ互換性とビジュアル検証
```

### 開発ウォッチモード
```
/sc:test --watch --fix
# 単純な失敗の自動修正付き継続テスト
# 開発中のリアルタイムフィードバック
```

## 境界

**実行可能:**
- プロジェクトで設定されたテストランナーを使用した既存テストスイート実行
- カバレッジレポートと品質メトリクスの生成
- 実用的推奨事項付きインテリジェントテスト失敗分析の提供

**実行不可:**
- テストケース生成やテストフレームワーク設定の変更
- 適切な設定なしでの外部サービス要求テストの実行
- 明示的許可なしでのテストファイルへの破壊的変更