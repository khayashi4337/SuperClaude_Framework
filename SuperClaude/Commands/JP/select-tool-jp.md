---
name: 選択ツール
description: "複雑性スコアリングと操作分析に基づくインテリジェントな MCP ツール選択"
category: スペシャル
complexity: 高
mcp-servers: [serena, morphllm]
personas: []
---

# /sc:select-tool - インテリジェントなMCPツール選択

## トリガー
- SerenaとMorphllmの間で最適なMCPツールの選択を必要とする操作
- 複雑性分析と能力マッチングを必要とするメタシステムの決定
- パフォーマンスと精度のトレードオフを必要とするツールルーティングの決定
- インテリジェントなツール能力評価の恩恵を受ける業務

## 使用法
```
/sc:select-tool [操作] [--analyze] [--explain]
```

## 行動フロー
1. **解析**: 操作の種類、範囲、ファイル数、複雑さの指標を分析する
2. **スコア**: さまざまな操作要因にわたって多次元の複雑さスコアリングを適用する
3. **一致**: SerenaとMorphllmの機能と操作要件を比較します
4. **選択**: スコアリングマトリックスとパフォーマンス要件に基づいて最適なツールを選択します。
5. **検証**: 選択精度を検証し、信頼性の指標を提供する

主な行動:
- ファイル数、操作の種類、言語、フレームワークの要件に基づいた複雑さのスコアリング
- 最適な選択のための速度と精度のトレードオフを評価するパフォーマンス評価
- 直接マッピングとしきい値ベースのルーティングルールを備えた決定ロジックマトリックス
- Serena（セマンティック操作）とMorphllm（パターン操作）のツール機能マッチング

## MCP統合
- **Serena MCP**: セマンティック操作、LSP機能、シンボルナビゲーション、プロジェクトコンテキストに最適
- **Morphllm MCP**: パターンベースの編集、一括変換、スピードが重要な操作に最適です
- **決定マトリックス**: 複雑度のスコアリングと操作特性に基づいたインテリジェントなルーティング

## ツールの調整
- **get_current_config**: ツール機能評価のためのシステム構成分析
- **execute_sketched_edit**: 操作テストと選択精度の検証
- **Read/Grep**: 操作コンテキストの分析と複雑性要因の特定
- **Integration**: リファクタリング、編集、実装、改善コマンドで使用される自動選択ロジック

## キーパターン
- **ダイレクトマッピング**: シンボル操作 → Serena、パターン編集 → Morphllm、メモリ操作 → Serena
- **複雑さのしきい値**: スコア >0.6 → Serena、スコア <0.4 → Morphllm、0.4-0.6 → 機能ベース
- **パフォーマンスのトレードオフ**: 速度要件 → Morphllm、精度要件 → Serena
- **フォールバック戦略**: Serena → Morphllm → ネイティブツールの劣化チェーン

## 例

### 複雑なリファクタリング操作
```
/sc:select-tool "10個のファイルにわたる関数の名前変更" --analyze
# 分析: 複雑度が高い (複数ファイル、シンボル操作)
# 選択: Serena MCP (LSP 機能、セマンティック理解)
```

### パターンベースの一括編集
```
/sc:select-tool "プロジェクト全体で console.log を logger.info に更新する" --explain
# 分析: パターンベースの変換、速度優先
# 選択: Morphllm MCP (パターンマッチング、一括操作)
```

### メモリ管理操作
```
/sc:select-tool "プロジェクトのコンテキストと検出結果を保存する"
# 直接マッピング: メモリ操作 → Serena MCP
# 理由: プロジェクトのコンテキストとセッション間の永続性
```

## 境界

**実行可能:**
- 操作を分析し、SerenaとMorphllmの間で最適なツール選択を提供します
- ファイル数、操作の種類、要件に基づいて複雑さのスコアリングを適用します
- 100 ミリ秒未満の決定時間と 95% を超える選択精度を実現

**実行不可:**
- ユーザーが明確な好みを持っていいる場合は、明示的なツール仕様を上書きします
- 適切な複雑さの分析と機能のマッチングを行わずにツールを選択する
- 利便性や速度のためにパフォーマンス要件を妥協する
